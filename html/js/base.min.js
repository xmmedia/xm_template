// jQuery extensions
(function($){$.fn.numeric=function(){this.keypress(function(e){var key=e.charCode?e.charCode:e.keyCode?e.keyCode:0;return e.ctrlKey||e.altKey||key>=48&&key<=57||key==9||key==39||key==37||key==35||key==36||key==8||key==46||key==13||key==45||key==43?!0:!1})};$.fn.autofocus=function(){return Modernizr.input.autofocus?this:this.focus()};$.fn.check=function(){return this.each(function(){this.checked=!0})};$.fn.uncheck=function(){return this.each(function(){this.checked=!1})};$.fn.check_toggle=function(){return this.each(function(){this.checked=this.checked?!1:!0})};$.fn.checked=function(){return this.length>1?this.get(0).is(":checked"):this.length==1?this.is(":checked"):!1}})(jQuery);typeof $.datepicker!="undefined"&&$.datepicker.setDefaults({showOn:"both",buttonText:"Click to view the calendar and pick a date",showButtonPanel:!0,changeMonth:!0,changeYear:!0,constrainInput:!1,duration:"fast",yearRange:"c-5:c+5",appendText:"YYYY-MM-DD",onClose:function(dateText,inst){this.focus()}});$.ajaxSetup({cache:!1});$(function(){$("[autofocus]").autofocus();$(".numeric").numeric();$(".top_nav_wrapper").on("click","li.has_subnav > a",function(e){e.preventDefault();e.stopPropagation();var $link=$(this),$sub_nav=$link.parent().find(".sub_nav"),link_offset,link_width;if($sub_nav.css("visibility")!=="hidden"){$sub_nav.css({visibility:"hidden"});$link.removeClass("clicked")}else{$(".top_nav_wrapper li.has_subnav > a.clicked").click();link_offset=$link.offset();link_width=$link.width();$sub_nav.hasClass("right")?$sub_nav.css({right:$(window).width()-(link_offset.left+link_width+39),top:$link.parent().innerHeight(),visibility:"visible"}):$sub_nav.css({left:link_offset.left-5,top:$link.parent().innerHeight(),visibility:"visible"});$sub_nav.width()<link_width+19&&$sub_nav.css("width",link_width+19+"px");$link.addClass("clicked");$sub_nav.bind("clickoutside",function(){$(".top_nav_wrapper li.has_subnav > a.clicked").click()})}})});
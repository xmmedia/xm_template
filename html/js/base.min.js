// jQuery extensions
(function(e){e.fn.numeric=function(){this.keypress(function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0;return e.ctrlKey||e.altKey||t>=48&&t<=57||t==9||t==39||t==37||t==35||t==36||t==8||t==46||t==13||t==45||t==43?!0:!1})};e.fn.autofocus=function(){return Modernizr.input.autofocus?this:this.focus()};e.fn.check=function(){return this.each(function(){this.checked=!0})};e.fn.uncheck=function(){return this.each(function(){this.checked=!1})};e.fn.check_toggle=function(){return this.each(function(){this.checked=this.checked?!1:!0})};e.fn.checked=function(){return this.length>1?this.get(0).is(":checked"):this.length==1?this.is(":checked"):!1}})(jQuery);typeof $.datepicker!="undefined"&&$.datepicker.setDefaults({showOn:"both",buttonText:"Click view calendar to pick date",showButtonPanel:!0,changeMonth:!0,changeYear:!0,constrainInput:!1,duration:"fast",yearRange:"c-5:c+5",appendText:"(YYYY-MM-DD)",onClose:function(e,t){this.focus()}});$.ajaxSetup({cache:!1});$(function(){$("[autofocus]").autofocus();$(".numeric").numeric();$(".top_nav_wrapper").on("click","li.has_subnav > a",function(e){e.preventDefault();e.stopPropagation();var t=$(this),n=t.parent().find(".sub_nav"),r,i;if(n.css("visibility")!=="hidden"){n.css({visibility:"hidden"});t.removeClass("clicked")}else{$(".top_nav_wrapper li.has_subnav > a.clicked").click();r=t.offset();i=t.width();n.hasClass("right")?n.css({right:$(window).width()-(r.left+i+39),top:t.parent().innerHeight(),visibility:"visible"}):n.css({left:r.left-5,top:t.parent().innerHeight(),visibility:"visible"});n.width()<i+19&&n.css("width",i+19+"px");t.addClass("clicked");n.bind("clickoutside",function(){$(".top_nav_wrapper li.has_subnav > a.clicked").click()})}})});